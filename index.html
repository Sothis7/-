<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é‚€è¯·å‡½ç”Ÿæˆå™¨ - ç¦å·å·å’Œæè®°</title>
    <link rel="stylesheet" href="style.css">
    <style>
        .generator-container {
            max-width: 500px;
            margin: 30px auto;
            padding: 20px;
            background: white;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 8px;
            color: #333;
            font-weight: bold;
        }
        
        .form-group input {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 16px;
        }
        
        .generate-btn {
            width: 100%;
            background: #1a3d6d;
            color: white;
            border: none;
            padding: 15px;
            border-radius: 8px;
            font-size: 18px;
            cursor: pointer;
            margin-top: 20px;
        }
        
        .link-container {
            margin-top: 30px;
            display: none;
        }
        
        .generated-link {
            background: #f8f9fa;
            border: 1px dashed #1a3d6d;
            padding: 15px;
            border-radius: 5px;
            word-break: break-all;
            margin-bottom: 15px;
        }
        
        .copy-btn {
            background: #07c160;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
        }
        
        .instructions {
            background: #f0f7ff;
            padding: 15px;
            border-radius: 8px;
            margin: 20px 0;
            font-size: 14px;
            border-left: 4px solid #1a3d6d;
        }
    </style>
</head>
<body>
    <div class="invitation-header">
        <h1>é‚€è¯·å‡½ç”Ÿæˆç³»ç»Ÿ</h1>
        <div class="invitation-en">INVITATION GENERATOR</div>
        <div class="invitation-slogan">ç¦å·å·å’Œæè®°ä¸“ç”¨</div>
    </div>
    
    <div class="generator-container">
        <h2 style="color: #1a3d6d; text-align: center; margin-bottom: 30px;">ğŸ“ å¡«å†™å®¢æˆ·ä¿¡æ¯</h2>
        
        <div id="invitationForm">
            <div class="form-group">
                <label>è´µå®¾å§“å</label>
                <input type="text" id="customerName" placeholder="è¯·è¾“å…¥å®¢æˆ·å§“å" required>
            </div>
            
            <div class="form-group">
                <label>é¢„è®¢æ—¥æœŸ</label>
                <input type="date" id="bookingDate" required>
            </div>
            
            <div class="form-group">
                <label>å°±é¤æ—¶é—´</label>
                <select id="diningTime" required style="width:100%; padding:10px; border-radius:5px; border:1px solid #ddd;">
                    <option value="">è¯·é€‰æ‹©æ—¶é—´</option>
                    <option value="åˆé¤ 11:30">åˆé¤ 11:30</option>
                    <option value="åˆé¤ 12:00">åˆé¤ 12:00</option>
                    <option value="æ™šé¤ 17:30">æ™šé¤ 17:30</option>
                    <option value="æ™šé¤ 18:00">æ™šé¤ 18:00</option>
                    <option value="æ™šé¤ 18:30">æ™šé¤ 18:30</option>
                    <option value="æ™šé¤ 19:00">æ™šé¤ 19:00</option>
                    <option value="æ™šé¤ 19:30">æ™šé¤ 19:30</option>
                </select>
            </div>
            
            <div class="form-group">
                <label>é¢„è®¢æˆ¿é—´</label>
                <select id="roomName" required style="width:100%; padding:10px; border-radius:5px; border:1px solid #ddd;">
                    <option value="">è¯·é€‰æ‹©åŒ…é—´</option>
                    <option value="é’“é±¼åŸ">é’“é±¼åŸ</option>
                    <option value="é’åŸå±±">é’åŸå±±</option>
                    <option value="æ­¦éš†">æ­¦éš†</option>
                    <option value="å¤§è¶³">å¤§è¶³</option>
                    <option value="é‡åº†">é‡åº†</option>
                    <option value="æ”€æèŠ±">æ”€æèŠ±</option>
                    <option value="å¤§å…">å¤§å…</option>
                </select>
            </div>
            
            <div class="instructions">
                <strong>ä½¿ç”¨è¯´æ˜ï¼š</strong>
                <ol>
                    <li>å¡«å†™å®¢æˆ·ä¿¡æ¯ï¼ˆå§“åã€æ—¥æœŸã€æ—¶é—´ã€åŒ…é—´ï¼‰</li>
                    <li>ç‚¹å‡»"ç”Ÿæˆé‚€è¯·å‡½é“¾æ¥"æŒ‰é’®</li>
                    <li>å¤åˆ¶ç”Ÿæˆçš„é“¾æ¥å‘é€ç»™å®¢æˆ·</li>
                    <li>å®¢æˆ·ç‚¹å‡»é“¾æ¥å³å¯æŸ¥çœ‹ä¸“å±é‚€è¯·å‡½</li>
                </ol>
            </div>
            
            <button class="generate-btn" onclick="generateInvitation()">ğŸ¯ ç”Ÿæˆé‚€è¯·å‡½é“¾æ¥</button>
        </div>
        
        <div class="link-container" id="linkContainer">
            <h3 style="color: #1a3d6d; margin-bottom: 15px;">âœ… é‚€è¯·å‡½é“¾æ¥å·²ç”Ÿæˆï¼</h3>
            
            <div class="generated-link" id="generatedLink">
                é“¾æ¥å°†åœ¨è¿™é‡Œæ˜¾ç¤º
            </div>
            
            <button class="copy-btn" onclick="copyLink()">ğŸ“‹ å¤åˆ¶é“¾æ¥</button>
            <button class="copy-btn" style="background: #1a3d6d; margin-left:10px;" onclick="openPreview()">ğŸ‘€ é¢„è§ˆé‚€è¯·å‡½</button>
            
            <p style="margin-top: 15px; color: #666; font-size: 14px;">
                <strong>æç¤ºï¼š</strong>å°†æ­¤é“¾æ¥é€šè¿‡å¾®ä¿¡å‘é€ç»™å®¢æˆ·ï¼Œå®¢æˆ·ç‚¹å‡»å³å¯æŸ¥çœ‹é‚€è¯·å‡½
            </p>
        </div>
    </div>
    
    <script>
        // è®¾ç½®é»˜è®¤æ—¥æœŸä¸ºæ˜å¤©
        window.onload = function() {
            const tomorrow = new Date();
            tomorrow.setDate(tomorrow.getDate() + 1);
            document.getElementById('bookingDate').value = tomorrow.toISOString().split('T')[0];
        };
        
        // ç”Ÿæˆé‚€è¯·å‡½é“¾æ¥
        function generateInvitation() {
            const name = document.getElementById('customerName').value;
            const date = document.getElementById('bookingDate').value;
            const time = document.getElementById('diningTime').value;
            const room = document.getElementById('roomName').value;
            
            // éªŒè¯å¿…å¡«é¡¹
            if (!name || !date || !time || !room) {
                alert('è¯·å¡«å†™å®Œæ•´ä¿¡æ¯ï¼');
                return;
            }
            
            // æ ¼å¼åŒ–æˆå›¾ç‰‡ä¸­çš„æ ·å¼
            const formattedDate = date.replace(/-/g, '-'); // ä¿æŒ YYYY-MM-DD
            
            // è·å–æ‚¨GitHub Pagesçš„åœ°å€ï¼ˆæ‚¨éœ€è¦ä¿®æ”¹è¿™ä¸ªéƒ¨åˆ†ï¼‰
            const baseUrl = window.location.origin + window.location.pathname.replace('index.html', '');
            
            // ç”Ÿæˆé‚€è¯·å‡½é“¾æ¥
            const invitationUrl = baseUrl + 'invitation.html' + 
                '?name=' + encodeURIComponent(name) +
                '&date=' + encodeURIComponent(formattedDate) +
                '&time=' + encodeURIComponent(time) +
                '&room=' + encodeURIComponent(room);
            
            // æ˜¾ç¤ºé“¾æ¥
            document.getElementById('generatedLink').innerHTML = 
                '<strong>é‚€è¯·å‡½é“¾æ¥ï¼š</strong><br>' + invitationUrl;
            document.getElementById('linkContainer').style.display = 'block';
            
            // ä¿å­˜åˆ°æœ¬åœ°ï¼Œæ–¹ä¾¿å¤åˆ¶
            window.currentInvitationUrl = invitationUrl;
            
            // æ»šåŠ¨åˆ°é“¾æ¥åŒºåŸŸ
            document.getElementById('linkContainer').scrollIntoView({behavior: 'smooth'});
        }
        
        // å¤åˆ¶é“¾æ¥
        function copyLink() {
            if (!window.currentInvitationUrl) {
                alert('è¯·å…ˆç”Ÿæˆé“¾æ¥ï¼');
                return;
            }
            
            navigator.clipboard.writeText(window.currentInvitationUrl).then(() => {
                alert('âœ… é“¾æ¥å·²å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼');
            }).catch(err => {
                // å¦‚æœå¤åˆ¶å¤±è´¥ï¼Œç”¨è€æ–¹æ³•
                const textArea = document.createElement('textarea');
                textArea.value = window.currentInvitationUrl;
                document.body.appendChild(textArea);
                textArea.select();
                document.execCommand('copy');
                document.body.removeChild(textArea);
                alert('âœ… é“¾æ¥å·²å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼');
            });
        }
        
        // é¢„è§ˆé‚€è¯·å‡½
        function openPreview() {
            if (!window.currentInvitationUrl) {
                alert('è¯·å…ˆç”Ÿæˆé“¾æ¥ï¼');
                return;
            }
            window.open(window.currentInvitationUrl, '_blank');
        }
    </script>
</body>
</html>
